## Telegram Bot Launcher

### Введение

Этот инструмент создан для упрощения разработки Telegram-ботов на платформе Chalice от AWS. Основная задача этого инструмента - упростить локальную разработку и тестирование бота, обеспечивая автоматическую настройку вебхуков и туннелирование через ngrok, чтобы удовлетворить требования Telegram к использованию HTTPS.


### Какие проблемы решает?

Требование HTTPS для вебхуков: Telegram требует, чтобы вебхуки работали только через HTTPS. Это может создать определнные трудности. Вручную настроить туннелирование с помощью инструментов вроде ngrok может быть неудобно, особенно если это нужно делать постоянно и постоянно переключаться между удаленной и локальной разработкой. Этот инструмент автоматизирует вышеуказанный процесс, позволяя разработчику сфокусироваться на создании бизнес-логики бота и не отвлекаться на рутину.

### Требования

- Установленный [ngrok](https://ngrok.com/).
- Наличие конфигурационного файла `chalice` (`.chalice/config.json`), содержащего ключ `TELEGRAM_BOT_ID`

```
{
  "version": "2.0",
  ...
  "stages": {
    "local": {
      ...
      "environment_variables": {
        "TELEGRAM_BOT_ID": "your_bot_id",
        ...
      }
    },
    "dev": {
      ...
    }
  }
}

```



### Структура проекта

- `bot_launcher.py`: Основной скрипт для запуска бота.
- `ngrok_wrapper.py`: Утилиты для работы с ngrok.
- `run_bot.sh`: Bash-скрипт для упрощения запуска.

### Примеры использования

```bash
# Запуск бота с параметрами по умолчанию
run_bot

# Запуск бота с указанием конкретного виртуального окружения и отключением автоперезагрузки
run_bot --venv .venv2 --no-autoreload

# Запуск бота для боевой стадии
run_bot --stage production
```

